# EclipseプロジェクトをGitHubに追加する手順

## 1. GitHubでリポジトリを作成

1. [GitHub](https://github.com) にログイン
2. 右上の「+」→「New repository」をクリック
3. 以下を設定：
   - **Repository name**: プロジェクト名（例: `recipe-app`）
   - **Description**: 説明（任意）
   - **Public / Private**: 選択
   - **Initialize this repository with**: 何もチェックしない（空のまま）
4. 「Create repository」をクリック

---

## 2. Eclipseでプロジェクトを作成

### 動的Webプロジェクトの場合

1. **ファイル** → **新規** → **動的Webプロジェクト**
2. プロジェクト名を入力
3. ターゲットランタイム: **Apache Tomcat** を選択
4. 「完了」をクリック

---

## 3. ローカルでGit初期化

### 方法A: Eclipseから（GUI）

1. プロジェクトを右クリック
2. **チーム** → **プロジェクトの共用** → **Git**
3. 「リポジトリーの作成」をクリック
4. 「完了」をクリック

### 方法B: コマンドラインから

プロジェクトフォルダに移動して実行：
cd /c/jwebwork/recipe
```bash
git init
```

---

## 4. .gitignoreを作成

Eclipseの設定ファイルやビルド成果物を除外するため、`.gitignore`を作成：

**作成手順：**

**作成場所：** プロジェクトのルートフォルダ（一番上の階層）

```
プロジェクト/
├── .gitignore           ← ここに作成
├── src/
├── data.sql
└── Docs/
```

**作成手順：**

1. Eclipseでプロジェクト名を右クリック
2. **新規** → **ファイル** を選択
3. ファイル名に `.gitignore` と入力（先頭のドットを忘れずに）
4. 「完了」をクリック
5. 以下の内容をコピペして保存：


```gitignore
# Eclipse設定ファイル
.classpath
.project
.settings/

# ビルド成果物
bin/
target/
build/

# パスワードを含むファイル（重要！）
**/jdbc.properties

# OS生成ファイル
.DS_Store
Thumbs.db

# ログファイル
*.log

# 一時ファイル
*.tmp
*.bak
```

## 5. GitHubにプッシュ

### 初回プッシュ
### ファイルをステージング
```bash
git add .
```
### コミット
```bash
git commit -m "Initial commit"
```
### mainブランチに変更
```
git branch -M main
```
### リモートリポジトリを追加（URLは自分のものに変更）
```bash
git remote add origin https://github.com/あなたのユーザー名/リポジトリ名.git
```
### プッシュ
```bash
git push origin main
```

### 2回目以降のプッシュ

```bash
git add .
git commit -m "変更内容を書く"
git push origin main
```

---

## 6. Eclipseからコミット・プッシュ（GUI）

1. プロジェクトを右クリック
2. **チーム** → **コミット**
3. 変更ファイルを「ステージされた変更」に移動
4. コミットメッセージを入力
5. 「コミットおよびプッシュ」をクリック

---

## よくあるトラブルと解決法

### エラー: "rejected - non-fast-forward"

リモートに変更がある場合：

```bash
git pull origin main --rebase
git push
```

### エラー: 認証失敗

GitHubのパスワード認証は廃止されました。Personal Access Tokenを使用：

1. GitHub → Settings → Developer settings → Personal access tokens
2. 「Generate new token」でトークンを作成
3. パスワードの代わりにトークンを入力

### .classpathや.settingsをコミットしてしまった

```bash
# キャッシュをクリア
git rm -r --cached .
git add .
git commit -m "Apply .gitignore"
git push
```

---

## コツ

1. **こまめにコミット**: 機能ごとに小さくコミットする
2. **わかりやすいコミットメッセージ**: 「何を」「なぜ」変更したか書く
3. **プッシュ前にプル**: `git pull` してから `git push` する習慣をつける
4. **.gitignoreは最初に**: プロジェクト作成直後に設定する

---

## 便利なGitコマンド


## 状態確認
```bash
git status
```
## 変更差分を見る
```bash
git diff
```
## コミット履歴を見る
```bash
git log --oneline
```
## 直前のコミットを取り消し（ファイルは残る）
```bash
git reset --soft HEAD^
```
## ブランチ一覧
```
git branch
```
## 新しいブランチを作成して切り替え
```bash
git checkout -b feature/新機能名
```
## 最新のリモート情報
```bash
git fetch origin
```
## ローカルブランチをリモートに強制的に合わせる
```bash
git reset --hard origin/main
```

## ローカルの変更を退避する（後で戻せる）
```bash
git stash push -m "作業途中の変更"
```
